package interfaz;




import Clases.Cliente;
import Clases.ClienteAnfitrion;
import Clases.ClienteParticular;
import GestionClases.GestionRegistroClienteAnfitrion;
import GestionClases.GestionRegistroClienteParticular;
import interfaz.PantallaSesion;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectOutputStream;
import java.io.Serializable;
import java.time.LocalDate;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFrame;
import javax.swing.JOptionPane;


public class PantallaRegistros extends javax.swing.JFrame implemets Serializable{
    


    /**
     * Creates new form Pantalla1 /constructor
     */
    public PantallaRegistros() {
        super("Registro de Cliente");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        nombreRegistro = new javax.swing.JLabel();
        textNombreRegistro = new javax.swing.JTextField();
        nombreRegistro1 = new javax.swing.JLabel();
        claveRegistro = new javax.swing.JLabel();
        textCorreoRegistro = new javax.swing.JTextField();
        botonRegistrarme = new javax.swing.JButton();
        correoRegistro = new javax.swing.JLabel();
        textClaveRegistro = new javax.swing.JTextField();
        dniRegistro = new javax.swing.JLabel();
        txtDniRegistro = new javax.swing.JTextField();
        telefonoRegistro = new javax.swing.JLabel();
        textTelefonoRegistro = new javax.swing.JTextField();
        botonYaTengoCuenta = new javax.swing.JButton();
        boolRegistroParticular = new javax.swing.JRadioButton();
        boolRegistroAnfitrion = new javax.swing.JRadioButton();
        jLabel1 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        nombreRegistro.setFont(new java.awt.Font("Segoe UI", 0, 24)); // NOI18N
        nombreRegistro.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        nombreRegistro.setText("Registro");

        textNombreRegistro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                textNombreRegistroActionPerformed(evt);
            }
        });

        nombreRegistro1.setText("Nombre:");

        claveRegistro.setText("Clave:");

        textCorreoRegistro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                textCorreoRegistroActionPerformed(evt);
            }
        });

        botonRegistrarme.setText("Registrarme");
        botonRegistrarme.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                botonRegistrarmeMouseClicked(evt);
            }
        });
        botonRegistrarme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botonRegistrarmeActionPerformed(evt);
            }
        });

        correoRegistro.setText("Correo:");

        textClaveRegistro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                textClaveRegistroActionPerformed(evt);
            }
        });

        dniRegistro.setText("DNI:");

        txtDniRegistro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtDniRegistroActionPerformed(evt);
            }
        });

        telefonoRegistro.setText("Teléfono:");

        textTelefonoRegistro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                textTelefonoRegistroActionPerformed(evt);
            }
        });

        botonYaTengoCuenta.setText("Ya tengo cuenta...");
        botonYaTengoCuenta.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                botonYaTengoCuentaMouseClicked(evt);
            }
        });
        botonYaTengoCuenta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botonYaTengoCuentaActionPerformed(evt);
            }
        });

        buttonGroup1.add(boolRegistroParticular);
        boolRegistroParticular.setText("Particular");
        boolRegistroParticular.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                boolRegistroParticularActionPerformed(evt);
            }
        });

        buttonGroup1.add(boolRegistroAnfitrion);
        boolRegistroAnfitrion.setText("Anfitrión");
        boolRegistroAnfitrion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                boolRegistroAnfitrionActionPerformed(evt);
            }
        });

        jLabel1.setText("Quiero iniciar como:");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(103, 103, 103)
                        .addComponent(nombreRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 192, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(89, 89, 89)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(correoRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(dniRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtDniRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 247, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(telefonoRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                        .addGroup(jPanel1Layout.createSequentialGroup()
                                            .addComponent(boolRegistroAnfitrion, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(boolRegistroParticular, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                            .addComponent(botonYaTengoCuenta)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(botonRegistrarme))
                                        .addComponent(textTelefonoRegistro, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 247, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(nombreRegistro1, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(textNombreRegistro)
                                    .addComponent(claveRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(textCorreoRegistro, javax.swing.GroupLayout.DEFAULT_SIZE, 247, Short.MAX_VALUE)
                                    .addComponent(textClaveRegistro, javax.swing.GroupLayout.DEFAULT_SIZE, 247, Short.MAX_VALUE))))))
                .addContainerGap(84, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(126, 126, 126))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(nombreRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(nombreRegistro1, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(textNombreRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(correoRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(textCorreoRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(claveRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(1, 1, 1)
                .addComponent(textClaveRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(dniRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(1, 1, 1)
                .addComponent(txtDniRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(telefonoRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(1, 1, 1)
                .addComponent(textTelefonoRegistro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(boolRegistroAnfitrion)
                    .addComponent(boolRegistroParticular))
                .addGap(24, 24, 24)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(botonYaTengoCuenta)
                    .addComponent(botonRegistrarme))
                .addContainerGap(90, Short.MAX_VALUE))
        );

        getContentPane().add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 420, 520));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void textNombreRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_textNombreRegistroActionPerformed

    }//GEN-LAST:event_textNombreRegistroActionPerformed

    private void textCorreoRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_textCorreoRegistroActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_textCorreoRegistroActionPerformed

    private void botonRegistrarmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botonRegistrarmeActionPerformed

    }//GEN-LAST:event_botonRegistrarmeActionPerformed

    private void textClaveRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_textClaveRegistroActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_textClaveRegistroActionPerformed

    private void txtDniRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtDniRegistroActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtDniRegistroActionPerformed

    private void textTelefonoRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_textTelefonoRegistroActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_textTelefonoRegistroActionPerformed

    private void botonYaTengoCuentaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botonYaTengoCuentaActionPerformed

    }//GEN-LAST:event_botonYaTengoCuentaActionPerformed

    private void botonYaTengoCuentaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonYaTengoCuentaMouseClicked
        PantallaSesion boton = new PantallaSesion();
        boton.setVisible(true);
        this.dispose();
        boton.setLocationRelativeTo(null);


    }//GEN-LAST:event_botonYaTengoCuentaMouseClicked

    private void botonRegistrarmeMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonRegistrarmeMouseClicked
        //guardado en todas las variables

        String textoNombreRegistros = textNombreRegistro.getText();
        String textoCorreoRegistros = textCorreoRegistro.getText();
        String textoClaveRegistros = textClaveRegistro.getText();
        String textoDniRegistros = txtDniRegistro.getText();
        String textoTelRegistros = textTelefonoRegistro.getText();
        boolean anfitrion = boolRegistroAnfitrion.isSelected();
        boolean particular = boolRegistroParticular.isSelected();

        if (particular == true) {
            int n = JOptionPane.showConfirmDialog(this, "¿Es un cliente VIP?", "VIP", JOptionPane.YES_NO_CANCEL_OPTION);
            if (n == JOptionPane.YES_OPTION) {
                ClienteParticular clienteParticular = new ClienteParticular(true, textoCorreoRegistros, textoClaveRegistros, textoNombreRegistros, textoDniRegistros, textoTelRegistros);
                try {
                    FileOutputStream fos = new FileOutputStream("clientes.txt");
                    ObjectOutputStream oos = new ObjectOutputStream(fos);
                    oos.writeObject(clienteParticular);
                } catch (Exception e) {
                    System.out.print(e.toString());
                }
                JOptionPane.showMessageDialog(this, "Cliente registrado existosamente.");
                PantallaSesion ps = new PantallaSesion();
                ps.setVisible(true);
                this.dispose();
                ps.setLocationRelativeTo(null);
            } else if (n == JOptionPane.NO_OPTION) {
                ClienteParticular clienteParticular = new ClienteParticular(false, textoCorreoRegistros, textoClaveRegistros, textoNombreRegistros, textoDniRegistros, textoTelRegistros);
                try {
                    FileOutputStream fos = new FileOutputStream("clientes.txt");
                    ObjectOutputStream oos = new ObjectOutputStream(fos);
                    oos.writeObject(clienteParticular);
                } catch (Exception e) {
                    System.out.print(e.toString());
                }
                JOptionPane.showMessageDialog(this, "Cliente registrado existosamente.");
                PantallaSesion ps = new PantallaSesion();
                ps.setVisible(true);
                ps.setLocationRelativeTo(null);
            } else {
                PantallaRegistros pg = new PantallaRegistros();
                pg.setVisible(true);
                pg.setLocationRelativeTo(null);
            }
        } else if (anfitrion == true) {
            LocalDate fechaRegistro = new LocalDate.now();
            ClienteAnfitrion clienteAnfitrion = new ClienteAnfitrion(fechaRegistro, textoCorreoRegistros, textoClaveRegistros, textoNombreRegistros, textoDniRegistros, textoTelRegistros);
            try {
                FileOutputStream fos = new FileOutputStream("clientes.txt");
                ObjectOutputStream oos = new ObjectOutputStream(fos);
                oos.writeObject(clienteAnfitrion);
            } catch (Exception e) {
                System.out.print(e.toString());
            }
            JOptionPane.showMessageDialog(this, "Cliente registrado existosamente.");
            PantallaSesion ps = new PantallaSesion();
            ps.setVisible(true);
            ps.setLocationRelativeTo(null);

            //PantallaClienteAnfitron pantallaanfitrion = new PantallaClienteAnfitron();
            //pantallaanfitrion.setVisible(true);
            //pantallaanfitrion.setLocationRelativeTo(null);
        } else {
            JOptionPane.showMessageDialog(this, "Por favor, seleccione un tipo de usuario.");
        }
    }

    //vip false al principio

    }//GEN-LAST:event_botonRegistrarmeMouseClicked

    private void boolRegistroParticularActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_boolRegistroParticularActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_boolRegistroParticularActionPerformed

    private void boolRegistroAnfitrionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_boolRegistroAnfitrionActionPerformed

    }//GEN-LAST:event_boolRegistroAnfitrionActionPerformed

    /**
     * @param args the command line arguments
     */

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JRadioButton boolRegistroAnfitrion;
    private javax.swing.JRadioButton boolRegistroParticular;
    private javax.swing.JButton botonRegistrarme;
    private javax.swing.JButton botonYaTengoCuenta;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JLabel claveRegistro;
    private javax.swing.JLabel correoRegistro;
    private javax.swing.JLabel dniRegistro;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JLabel nombreRegistro;
    private javax.swing.JLabel nombreRegistro1;
    private javax.swing.JLabel telefonoRegistro;
    private javax.swing.JTextField textClaveRegistro;
    private javax.swing.JTextField textCorreoRegistro;
    private javax.swing.JTextField textNombreRegistro;
    private javax.swing.JTextField textTelefonoRegistro;
    private javax.swing.JTextField txtDniRegistro;
    // End of variables declaration//GEN-END:variables

